<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tahiri Solutions - Business Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Nastaliq Urdu', serif;
        }
        .stat-card {
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .image-preview {
            max-width: 200px;
            max-height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <div>
                    <!-- <h1 class="text-3xl font-bold">Ø·Ø§ÛØ±ÛŒ Ø³Ù„ÙˆØ´Ù†Ø²</h1> -->
                                        <h1 class="text-3xl font-bold">ØªÙ‚ÙˆÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ø¨Ú¾ÛŒØ±Û </h1>

                    <!-- <p class="text-sm opacity-90">Ø¨Ú¾ÛŒØ±Û - Ù…Ú©Ù…Ù„ Ú©Ø§Ø±ÙˆØ¨Ø§Ø±ÛŒ Ø­Ù„</p> -->
                </div>
                <div class="flex gap-2 flex-wrap">
                    <button onclick="exportToExcel()" class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2">
                        ğŸ“Š Excel Export
                    </button>
                    <button onclick="exportToPDF()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2">
                        ğŸ“„ PDF Report
                    </button>
                    <button onclick="backupData()" class="bg-yellow-500 hover:bg-yellow-600 px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2">
                        ğŸ’¾ Backup
                    </button>
                    <button onclick="restoreData()" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-2">
                        ğŸ“‚ Restore
                    </button>
                </div>
                <div class="text-left">
                    <!-- <p class="text-sm">Ø¨Ù„Ø§Ù„ Ø·Ø§ÛØ±ÛŒ</p> -->
                                        <p class="text-sm">Ù…ÛØ± Ù†Ø§ØµØ± Ø­ÛŒØ§Øª  </p>

                    <p class="text-xs opacity-75" id="currentDate"></p>
                </div>
            </div>
        </div>
    </header>

    <!-- Daily Backup Reminder -->
    <div id="backupReminder" class="bg-yellow-50 border-l-4 border-yellow-400 p-4 hidden">
        <div class="container mx-auto px-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="text-2xl">âš ï¸</span>
                <p class="text-yellow-800 font-semibold">ÛŒØ§Ø¯ Ø¯ÛØ§Ù†ÛŒ: Ø§Ù¾Ù†Ø§ ÚˆÛŒÙ¹Ø§ Ø¨ÛŒÚ© Ø§Ù¾ Ù„Ø§Ø²Ù…ÛŒ Ø±Ú©Ú¾ÛŒÚº! Ø¢Ø®Ø±ÛŒ Ø¨ÛŒÚ© Ø§Ù¾: <span id="lastBackupDate">Ú©Ø¨Ú¾ÛŒ Ù†ÛÛŒÚº</span></p>
            </div>
            <button onclick="closeBackupReminder()" class="text-yellow-600 hover:text-yellow-800 font-bold">âœ•</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-6">
        
        <!-- Stats Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
            <div class="stat-card bg-white rounded-lg shadow-md p-6 border-r-4 border-blue-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Ú©Ù„ Ú©Ø³Ù¹Ù…Ø±Ø²</p>
                        <p class="text-3xl font-bold text-blue-600" id="totalCustomers">0</p>
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="stat-card bg-white rounded-lg shadow-md p-6 border-r-4 border-green-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Ø§Ø³ Ù…Ø§Û Ú©Ù„ Ø¢Ù…Ø¯Ù†</p>
                        <p class="text-3xl font-bold text-green-600" id="monthlyIncome">0 Ø±ÙˆÙ¾Û’</p>
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="stat-card bg-white rounded-lg shadow-md p-6 border-r-4 border-red-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Ø§Ø³ Ù…Ø§Û Ø§Ø®Ø±Ø§Ø¬Ø§Øª</p>
                        <p class="text-3xl font-bold text-red-600" id="monthlyExpenses">0 Ø±ÙˆÙ¾Û’</p>
                    </div>
                    <div class="bg-red-100 p-3 rounded-full">
                        <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="stat-card bg-white rounded-lg shadow-md p-6 border-r-4 border-purple-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Ø®Ø§Ù„Øµ Ù…Ù†Ø§ÙØ¹</p>
                        <p class="text-3xl font-bold text-purple-600" id="monthlyProfit">0 Ø±ÙˆÙ¾Û’</p>
                    </div>
                    <div class="bg-purple-100 p-3 rounded-full">
                        <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="stat-card bg-white rounded-lg shadow-md p-6 border-r-4 border-orange-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Ú©Ù„ Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù…</p>
                        <p class="text-3xl font-bold text-orange-600" id="totalPending">0 Ø±ÙˆÙ¾Û’</p>
                    </div>
                    <div class="bg-orange-100 p-3 rounded-full">
                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="bg-white rounded-lg shadow-md mb-6 overflow-x-auto">
            <div class="flex border-b">
                <button class="tab-btn active px-6 py-3 font-semibold" onclick="switchTab('dashboard')">ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('customers')">Ú©Ø³Ù¹Ù…Ø±Ø²</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('property')">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('catering')">Ú©ÛŒÙ¹Ø±Ù†Ú¯</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('services')">Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³Ø²</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('expenses')">Ø§Ø®Ø±Ø§Ø¬Ø§Øª</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('serviceTypes')">Ø³Ø±ÙˆØ³ Ù…Ù†ÛŒØ¬Ù…Ù†Ù¹</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('staff')">Ù…Ù„Ø§Ø²Ù…ÛŒÙ†</button>
                <button class="tab-btn px-6 py-3 font-semibold" onclick="switchTab('reports')">Ø±Ù¾ÙˆØ±Ù¹Ø³</button>
            </div>
        </div>

        <!-- Tab Content -->
        <div id="tabContent">
            
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Recent Activities -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4 text-gray-800">Ø­Ø§Ù„ÛŒÛ Ø³Ø±Ú¯Ø±Ù…ÛŒØ§Úº</h3>
                        <div id="recentActivities" class="space-y-3">
                            <p class="text-gray-500 text-center py-4">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ù†ÛÛŒÚº</p>
                        </div>
                    </div>

                    <!-- Pending Tasks -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-bold mb-4 text-gray-800">Ø¨Ù‚Ø§ÛŒØ§ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒØ§Úº</h3>
                        <div id="pendingTasksList" class="space-y-3">
                            <p class="text-gray-500 text-center py-4">Ú©ÙˆØ¦ÛŒ Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù… Ù†ÛÛŒÚº</p>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-white rounded-lg shadow-md p-6 lg:col-span-2">
                        <h3 class="text-xl font-bold mb-4 text-gray-800">ÙÙˆØ±ÛŒ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <button onclick="openModal('customerModal')" class="bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold">
                                Ù†ÛŒØ§ Ú©Ø³Ù¹Ù…Ø±
                            </button>
                            <button onclick="openModal('propertyModal')" class="bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-semibold">
                                Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº
                            </button>
                            <button onclick="openModal('cateringModal')" class="bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg font-semibold">
                                ÙÙ†Ú©Ø´Ù† Ø¨Ú©Ù†Ú¯
                            </button>
                            <button onclick="openModal('serviceModal')" class="bg-purple-500 hover:bg-purple-600 text-white py-3 px-4 rounded-lg font-semibold">
                                Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customers Tab -->
            <div id="customers-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ú©Ø³Ù¹Ù…Ø±Ø² Ú©ÛŒ ÙÛØ±Ø³Øª</h3>
                        <button onclick="openModal('customerModal')" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†ÛŒØ§ Ú©Ø³Ù¹Ù…Ø±
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <input type="text" id="customerSearch" placeholder="Ù†Ø§Ù… ÛŒØ§ Ù†Ù…Ø¨Ø± Ø³Û’ ØªÙ„Ø§Ø´ Ú©Ø±ÛŒÚº..." 
                               class="w-full px-4 py-2 border rounded-lg" onkeyup="searchCustomers()">
                    </div>

                    <div id="customersList" class="space-y-4">
                        <p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ú©Ø³Ù¹Ù…Ø± Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Property Tab -->
            <div id="property-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©Û’ Ù„ÛŒÙ† Ø¯ÛŒÙ†</h3>
                        <button onclick="openModal('propertyModal')" class="bg-green-500 hover:bg-green-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†Ø¦ÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ
                        </button>
                    </div>

                    <div id="propertiesList" class="space-y-4">
                        <p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Catering Tab -->
            <div id="catering-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ø¨Ú©Ù†Ú¯Ø²</h3>
                        <button onclick="openModal('cateringModal')" class="bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†Ø¦ÛŒ Ø¨Ú©Ù†Ú¯
                        </button>
                    </div>

                    <div id="cateringList" class="space-y-4">
                        <p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø¨Ú©Ù†Ú¯ Ù†ÛÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Services Tab -->
            <div id="services-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³Ø²</h3>
                        <button onclick="openModal('serviceModal')" class="bg-purple-500 hover:bg-purple-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³
                        </button>
                    </div>

                    <div id="servicesList" class="space-y-4">
                        <p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø³Ø±ÙˆØ³ Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Expenses Tab -->
            <div id="expenses-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ø¯ÙØªØ± Ú©Û’ Ø§Ø®Ø±Ø§Ø¬Ø§Øª</h3>
                        <button onclick="openModal('expenseModal')" class="bg-red-500 hover:bg-red-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†ÛŒØ§ Ø®Ø±Ú†
                        </button>
                    </div>

                    <div id="expensesList" class="space-y-4">
                        <p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø®Ø±Ú† Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Service Types Management Tab -->
            <div id="serviceTypes-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ø³Ø±ÙˆØ³Ø² Ú©ÛŒ ØªÙ†Ø¸ÛŒÙ…</h3>
                        <button onclick="openModal('newServiceTypeModal')" class="bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº
                        </button>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                        <p class="text-blue-800">
                            <strong>ÛŒÛØ§Úº Ø¢Ù¾ Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³Ø² Ø´Ø§Ù…Ù„ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚº</strong> - Ø¬ÛŒØ³Û’ Ú©Û "Ø§Ù†Ø´ÙˆØ±Ù†Ø³"ØŒ "Ù¹Ø±ÛŒÙˆÙ„ Ø§ÛŒØ¬Ù†Ø³ÛŒ"ØŒ "Ù…ÙˆØ¨Ø§Ø¦Ù„ Ø´Ø§Ù¾" ÙˆØºÛŒØ±ÛÛ” Ø§ÛŒÚ© Ø¨Ø§Ø± Ø´Ø§Ù…Ù„ Ú©Ø±Ù†Û’ Ú©Û’ Ø¨Ø¹Ø¯ ÛŒÛ Ø³Ø±ÙˆØ³Ø² Ø¢Ù¾ Ú©Û’ Ø³Ø³Ù¹Ù… Ù…ÛŒÚº Ø¯Ø³ØªÛŒØ§Ø¨ ÛÙˆ Ø¬Ø§Ø¦ÛŒÚº Ú¯ÛŒÛ”
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="serviceTypesList">
                        <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-lg">
                            <h4 class="text-xl font-bold">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ ÚˆÛŒÙ„Ù†Ú¯</h4>
                            <p class="text-sm opacity-90 mt-2">Ø¨Ù„Ù¹ Ø§Ù† Ø³Ø±ÙˆØ³</p>
                        </div>
                        <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-lg">
                            <h4 class="text-xl font-bold">Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ø³Ø±ÙˆØ³</h4>
                            <p class="text-sm opacity-90 mt-2">Ø¨Ù„Ù¹ Ø§Ù† Ø³Ø±ÙˆØ³</p>
                        </div>
                        <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-lg">
                            <h4 class="text-xl font-bold">Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³Ø²</h4>
                            <p class="text-sm opacity-90 mt-2">Ø¨Ù„Ù¹ Ø§Ù† Ø³Ø±ÙˆØ³</p>
                        </div>
                    </div>

                    <div class="mt-6" id="customServicesList">
                        <!-- Custom services will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Staff Tab -->
            <div id="staff-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800">Ù…Ù„Ø§Ø²Ù…ÛŒÙ† Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª</h3>
                        <button onclick="openModal('staffModal')" class="bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-6 rounded-lg font-semibold">
                            + Ù†ÛŒØ§ Ù…Ù„Ø§Ø²Ù…
                        </button>
                    </div>

                    <div id="staffList" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <p class="text-gray-500 text-center py-8 col-span-3">Ù…Ù„Ø§Ø²Ù…ÛŒÙ† Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</p>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports-tab" class="tab-content hidden">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Ù…Ø§Ù„ÛŒ Ø±Ù¾ÙˆØ±Ù¹</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-lg">
                            <p class="text-sm opacity-90">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©ÛŒ Ø¢Ù…Ø¯Ù†</p>
                            <p class="text-3xl font-bold" id="propertyIncome">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                        <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-lg">
                            <p class="text-sm opacity-90">Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ú©ÛŒ Ø¢Ù…Ø¯Ù†</p>
                            <p class="text-3xl font-bold" id="cateringIncome">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                        <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-lg">
                            <p class="text-sm opacity-90">Ø³Ø±ÙˆØ³Ø² Ú©ÛŒ Ø¢Ù…Ø¯Ù†</p>
                            <p class="text-3xl font-bold" id="servicesIncome">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                        <div class="bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-lg">
                            <p class="text-sm opacity-90">Ú©Ù„ Ø§Ø®Ø±Ø§Ø¬Ø§Øª</p>
                            <p class="text-3xl font-bold" id="totalExpensesReport">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-8 rounded-lg">
                            <p class="text-lg opacity-90">Ú©Ù„ Ø¢Ù…Ø¯Ù†</p>
                            <p class="text-4xl font-bold" id="totalIncomeReport">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                        <div class="bg-gradient-to-br from-emerald-500 to-emerald-600 text-white p-8 rounded-lg">
                            <p class="text-lg opacity-90">Ø®Ø§Ù„Øµ Ù…Ù†Ø§ÙØ¹</p>
                            <p class="text-4xl font-bold" id="netProfitReport">0 Ø±ÙˆÙ¾Û’</p>
                        </div>
                    </div>

                    <!-- Pending Amounts Section -->
                    <div class="bg-orange-50 p-6 rounded-lg mb-6">
                        <h4 class="text-xl font-bold mb-4 text-orange-800">Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù… Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª</h4>
                        <div id="pendingAmountsList" class="space-y-3">
                            <p class="text-gray-500 text-center py-4">Ú©ÙˆØ¦ÛŒ Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù… Ù†ÛÛŒÚº</p>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-xl font-bold mb-4">ØªÙØµÛŒÙ„ÛŒ Ù„ÛŒÙ† Ø¯ÛŒÙ†</h4>
                        <div id="transactionsList" class="space-y-2">
                            <p class="text-gray-500 text-center py-4">Ú©ÙˆØ¦ÛŒ Ù„ÛŒÙ† Ø¯ÛŒÙ† Ù†ÛÛŒÚº</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Customer Modal -->
    <div id="customerModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†ÛŒØ§ Ú©Ø³Ù¹Ù…Ø± Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</h3>
                <button onclick="closeModal('customerModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addCustomer(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù†Ø§Ù… *</label>
                    <input type="text" id="customerName" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…ÙˆØ¨Ø§Ø¦Ù„ Ù†Ù…Ø¨Ø± *</label>
                    <input type="tel" id="customerPhone" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">CNIC</label>
                    <input type="text" id="customerCNIC" class="w-full px-4 py-2 border rounded-lg" placeholder="12345-1234567-1">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù¾ØªÛ</label>
                    <input type="text" id="customerAddress" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø³Ø±ÙˆØ³ Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="customerService" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ</option>
                        <option value="Ú©ÛŒÙ¹Ø±Ù†Ú¯">Ú©ÛŒÙ¹Ø±Ù†Ú¯</option>
                        <option value="Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³">Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙØµÛŒÙ„Ø§Øª</label>
                    <textarea id="customerDetails" rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªØµÙˆÛŒØ±</label>
                    <input type="file" id="customerImage" accept="image/*" class="w-full px-4 py-2 border rounded-lg">
                    <div id="imagePreview" class="mt-2"></div>
                </div>
                <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- Property Modal -->
    <div id="propertyModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†Ø¦ÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ</h3>
                <button onclick="closeModal('propertyModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addProperty(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº *</label>
                    <select id="propertyCustomer" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù„ÛŒÙ† Ø¯ÛŒÙ† Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="propertyType" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ">Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ</option>
                        <option value="ÙØ±ÙˆØ®Øª">ÙØ±ÙˆØ®Øª</option>
                        <option value="Ø¨Ø±ÙˆÚ©Ø±ÛŒØ¬">Ø¨Ø±ÙˆÚ©Ø±ÛŒØ¬</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="propertyCategory" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ø±ÛØ§Ø¦Ø´ÛŒ">Ø±ÛØ§Ø¦Ø´ÛŒ</option>
                        <option value="Ú©Ù…Ø±Ø´Ù„">Ú©Ù…Ø±Ø´Ù„</option>
                        <option value="Ø²Ø±Ø¹ÛŒ">Ø²Ø±Ø¹ÛŒ</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…Ù‚Ø§Ù… *</label>
                    <input type="text" id="propertyLocation" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø±Ù‚Ø¨Û (Ù…Ø±Ø¨Ø¹ ÙÙ¹/Ú©Ù†Ø§Ù„)</label>
                    <input type="text" id="propertySize" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù‚ÛŒÙ…Øª (Ø±ÙˆÙ¾Û’) *</label>
                    <input type="number" id="propertyPrice" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú©Ù…ÛŒØ´Ù† (2% Ø®ÙˆØ¯Ú©Ø§Ø±)</label>
                    <input type="text" id="propertyCommission" readonly class="w-full px-4 py-2 border rounded-lg bg-gray-100">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙˆØµÙˆÙ„ Ø´Ø¯Û Ø±Ù‚Ù… (Ø±ÙˆÙ¾Û’)</label>
                    <input type="number" id="propertyPaidAmount" class="w-full px-4 py-2 border rounded-lg" placeholder="Ú©ØªÙ†ÛŒ Ø±Ù‚Ù… Ù…Ù„ Ú¯Ø¦ÛŒØŸ">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙØµÛŒÙ„Ø§Øª</label>
                    <textarea id="propertyDetails" rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- Catering Modal -->
    <div id="cateringModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†Ø¦ÛŒ Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ø¨Ú©Ù†Ú¯</h3>
                <button onclick="closeModal('cateringModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addCatering(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº *</label>
                    <select id="cateringCustomer" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙÙ†Ú©Ø´Ù† Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="functionType" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ø´Ø§Ø¯ÛŒ">Ø´Ø§Ø¯ÛŒ</option>
                        <option value="ÙˆÙ„ÛŒÙ…Û">ÙˆÙ„ÛŒÙ…Û</option>
                        <option value="Ø¨Ø±ØªÚ¾ ÚˆÛ’">Ø¨Ø±ØªÚ¾ ÚˆÛ’</option>
                        <option value="Ú©Ø§Ø±Ù¾ÙˆØ±ÛŒÙ¹">Ú©Ø§Ø±Ù¾ÙˆØ±ÛŒÙ¹ Ø§ÛŒÙˆÙ†Ù¹</option>
                        <option value="Ø¯ÛŒÚ¯Ø±">Ø¯ÛŒÚ¯Ø±</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªØ§Ø±ÛŒØ® *</label>
                    <input type="date" id="functionDate" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…Ù‚Ø§Ù… *</label>
                    <input type="text" id="functionVenue" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…ÛÙ…Ø§Ù†ÙˆÚº Ú©ÛŒ ØªØ¹Ø¯Ø§Ø¯ *</label>
                    <input type="number" id="guestCount" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙÛŒ Ù¾Ù„ÛŒÙ¹ Ù‚ÛŒÙ…Øª (Ø±ÙˆÙ¾Û’) *</label>
                    <input type="number" id="perPlateRate" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú©Ù„ Ø±Ù‚Ù…</label>
                    <input type="text" id="totalAmount" readonly class="w-full px-4 py-2 border rounded-lg bg-gray-100">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø§ÛŒÚˆÙˆØ§Ù†Ø³ Ø±Ù‚Ù…</label>
                    <input type="number" id="advanceAmount" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…ÛŒÙˆ/ØªÙØµÛŒÙ„Ø§Øª</label>
                    <textarea id="menuDetails" rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <button type="submit" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- Service Modal -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†Ø¦ÛŒ Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³</h3>
                <button onclick="closeModal('serviceModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addService(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº *</label>
                    <select id="serviceCustomer" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø³Ø±ÙˆØ³ Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="serviceType" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ù…ÛŒØ±Ø§Ø«ÛŒ">Ù…ÛŒØ±Ø§Ø«ÛŒ</option>
                        <option value="Ú¯Ø§Ú‘ÛŒ Ø±Ø¬Ø³Ù¹Ø±ÛŒØ´Ù†">Ú¯Ø§Ú‘ÛŒ Ø±Ø¬Ø³Ù¹Ø±ÛŒØ´Ù†</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙØµÛŒÙ„Ø§Øª *</label>
                    <textarea id="serviceDescription" required rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ú†Ø§Ø±Ø¬Ø² (Ø±ÙˆÙ¾Û’) *</label>
                    <input type="number" id="serviceCharges" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ÙˆØµÙˆÙ„ Ø´Ø¯Û Ø±Ù‚Ù… (Ø±ÙˆÙ¾Û’)</label>
                    <input type="number" id="servicePaidAmount" class="w-full px-4 py-2 border rounded-lg" placeholder="Ú©ØªÙ†ÛŒ Ø±Ù‚Ù… Ù…Ù„ Ú¯Ø¦ÛŒØŸ">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø­Ø§Ù„Øª *</label>
                    <select id="serviceStatus" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="Ø²ÛŒØ± Ø§Ù„ØªÙˆØ§Ø¡">Ø²ÛŒØ± Ø§Ù„ØªÙˆØ§Ø¡</option>
                        <option value="Ø¬Ø§Ø±ÛŒ">Ø¬Ø§Ø±ÛŒ</option>
                        <option value="Ù…Ú©Ù…Ù„">Ù…Ú©Ù…Ù„</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…Ù„Ø§Ø²Ù… ØªÙÙˆÛŒØ¶ Ú©Ø±ÛŒÚº</label>
                    <select id="assignedStaff" class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- Staff Modal -->
    <div id="staffModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†ÛŒØ§ Ù…Ù„Ø§Ø²Ù… Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</h3>
                <button onclick="closeModal('staffModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addStaff(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù†Ø§Ù… *</label>
                    <input type="text" id="staffName" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ù…ÙˆØ¨Ø§Ø¦Ù„ Ù†Ù…Ø¨Ø± *</label>
                    <input type="tel" id="staffPhone" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø¹ÛØ¯Û *</label>
                    <input type="text" id="staffPosition" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙ†Ø®ÙˆØ§Û (Ø±ÙˆÙ¾Û’)</label>
                    <input type="number" id="staffSalary" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expenseModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†ÛŒØ§ Ø®Ø±Ú† Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</h3>
                <button onclick="closeModal('expenseModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addExpense(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø®Ø±Ú† Ú©ÛŒ Ù‚Ø³Ù… *</label>
                    <select id="expenseCategory" required class="w-full px-4 py-2 border rounded-lg">
                        <option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>
                        <option value="Ø¯ÙØªØ± Ú©Ø§ Ú©Ø±Ø§ÛŒÛ">Ø¯ÙØªØ± Ú©Ø§ Ú©Ø±Ø§ÛŒÛ</option>
                        <option value="Ø¨Ø¬Ù„ÛŒ Ø¨Ù„">Ø¨Ø¬Ù„ÛŒ Ø¨Ù„</option>
                        <option value="Ø§Ù†Ù¹Ø±Ù†ÛŒÙ¹/ÙÙˆÙ†">Ø§Ù†Ù¹Ø±Ù†ÛŒÙ¹/ÙÙˆÙ†</option>
                        <option value="Ù…Ù„Ø§Ø²Ù…ÛŒÙ† Ú©ÛŒ ØªÙ†Ø®ÙˆØ§Û">Ù…Ù„Ø§Ø²Ù…ÛŒÙ† Ú©ÛŒ ØªÙ†Ø®ÙˆØ§Û</option>
                        <option value="Ø§ÛŒÙ†Ø¯Ú¾Ù†">Ø§ÛŒÙ†Ø¯Ú¾Ù†</option>
                        <option value="Ø§Ø³Ù¹ÛŒØ´Ù†Ø±ÛŒ">Ø§Ø³Ù¹ÛŒØ´Ù†Ø±ÛŒ</option>
                        <option value="Ù…Ø±Ù…Øª">Ù…Ø±Ù…Øª</option>
                        <option value="Ø¯ÛŒÚ¯Ø±">Ø¯ÛŒÚ¯Ø±</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø±Ù‚Ù… (Ø±ÙˆÙ¾Û’) *</label>
                    <input type="number" id="expenseAmount" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªØ§Ø±ÛŒØ® *</label>
                    <input type="date" id="expenseDate" required class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙØµÛŒÙ„Ø§Øª</label>
                    <textarea id="expenseDetails" rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <button type="submit" class="w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <!-- New Service Type Modal -->
    <div id="newServiceTypeModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold">Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</h3>
                <button onclick="closeModal('newServiceTypeModal')" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <form onsubmit="addNewServiceType(event)" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø³Ø±ÙˆØ³ Ú©Ø§ Ù†Ø§Ù… *</label>
                    <input type="text" id="newServiceName" required class="w-full px-4 py-2 border rounded-lg" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù†Ø´ÙˆØ±Ù†Ø³ØŒ Ù¹Ø±ÛŒÙˆÙ„ Ø§ÛŒØ¬Ù†Ø³ÛŒ">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ØªÙØµÛŒÙ„</label>
                    <textarea id="newServiceDescription" rows="3" class="w-full px-4 py-2 border rounded-lg" placeholder="Ø§Ø³ Ø³Ø±ÙˆØ³ Ú©ÛŒ ØªÙØµÛŒÙ„ Ù„Ú©Ú¾ÛŒÚº"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Ø±Ù†Ú¯ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</label>
                    <select id="newServiceColor" class="w-full px-4 py-2 border rounded-lg">
                        <option value="green">Ø³Ø¨Ø²</option>
                        <option value="red">Ø³Ø±Ø®</option>
                        <option value="orange">Ù†Ø§Ø±Ù†Ø¬ÛŒ</option>
                        <option value="teal">ÙÛŒØ±ÙˆØ²ÛŒ</option>
                        <option value="pink">Ú¯Ù„Ø§Ø¨ÛŒ</option>
                        <option value="indigo">Ù†ÛŒÙ„Ø§</option>
                    </select>
                </div>
                <button type="submit" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-lg font-bold">
                    Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº
                </button>
            </form>
        </div>
    </div>

    <script>
        // Data Storage
        let data = {
            customers: [],
            properties: [],
            catering: [],
            services: [],
            staff: [],
            expenses: [],
            customServiceTypes: [],
            lastBackup: null
        };

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('tahiriSolutionsData');
            if (saved) {
                data = JSON.parse(saved);
                updateDashboard();
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('tahiriSolutionsData', JSON.stringify(data));
            updateDashboard();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateDate();
            checkBackupReminder();
            
            // Auto-calculate property commission
            document.getElementById('propertyPrice').addEventListener('input', function() {
                const price = parseFloat(this.value) || 0;
                const commission = (price * 0.02).toFixed(0);
                document.getElementById('propertyCommission').value = commission + ' Ø±ÙˆÙ¾Û’';
            });

            // Auto-calculate catering total
            document.getElementById('guestCount').addEventListener('input', calculateCateringTotal);
            document.getElementById('perPlateRate').addEventListener('input', calculateCateringTotal);

            // Image preview
            document.getElementById('customerImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById('imagePreview').innerHTML = 
                            `<img src="${e.target.result}" class="image-preview">`;
                    };
                    reader.readAsDataURL(file);
                }
            });
        });

        function checkBackupReminder() {
            const lastBackup = data.lastBackup;
            const now = new Date();
            
            if (!lastBackup) {
                document.getElementById('backupReminder').classList.remove('hidden');
                document.getElementById('lastBackupDate').textContent = 'Ú©Ø¨Ú¾ÛŒ Ù†ÛÛŒÚº';
                return;
            }
            
            const lastBackupDate = new Date(lastBackup);
            const daysSinceBackup = Math.floor((now - lastBackupDate) / (1000 * 60 * 60 * 24));
            
            if (daysSinceBackup >= 1) {
                document.getElementById('backupReminder').classList.remove('hidden');
                document.getElementById('lastBackupDate').textContent = daysSinceBackup + ' Ø¯Ù† Ù¾ÛÙ„Û’';
            }
        }

        function closeBackupReminder() {
            document.getElementById('backupReminder').classList.add('hidden');
        }

        // Add New Service Type
        function addNewServiceType(e) {
            e.preventDefault();
            
            const serviceType = {
                name: document.getElementById('newServiceName').value,
                description: document.getElementById('newServiceDescription').value,
                color: document.getElementById('newServiceColor').value,
                createdDate: new Date().toISOString()
            };
            
            data.customServiceTypes.push(serviceType);
            saveData();
            closeModal('newServiceTypeModal');
            displayCustomServiceTypes();
            alert('Ù†Ø¦ÛŒ Ø³Ø±ÙˆØ³ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯Ø¦ÛŒ!');
        }

        function displayCustomServiceTypes() {
            const container = document.getElementById('customServicesList');
            
            if (data.customServiceTypes.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            const colorClasses = {
                green: 'from-green-500 to-green-600',
                red: 'from-red-500 to-red-600',
                orange: 'from-orange-500 to-orange-600',
                teal: 'from-teal-500 to-teal-600',
                pink: 'from-pink-500 to-pink-600',
                indigo: 'from-indigo-500 to-indigo-600'
            };
            
            container.innerHTML = '<h4 class="text-lg font-bold mb-4 mt-6">Ø¢Ù¾ Ú©ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø³Ø±ÙˆØ³Ø²:</h4><div class="grid grid-cols-1 md:grid-cols-3 gap-4">' +
                data.customServiceTypes.map((service, index) => `
                    <div class="bg-gradient-to-br ${colorClasses[service.color]} text-white p-6 rounded-lg relative">
                        <h4 class="text-xl font-bold">${service.name}</h4>
                        <p class="text-sm opacity-90 mt-2">${service.description || 'Ø§Ø¶Ø§ÙÛŒ Ø³Ø±ÙˆØ³'}</p>
                        <button onclick="deleteServiceType(${index})" class="absolute top-2 left-2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-2 py-1 rounded text-sm">
                            ğŸ—‘ï¸
                        </button>
                    </div>
                `).join('') + '</div>';
        }

        function deleteServiceType(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ø³Ø±ÙˆØ³ Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.customServiceTypes.splice(index, 1);
                saveData();
                displayCustomServiceTypes();
                alert('Ø³Ø±ÙˆØ³ Ø­Ø°Ù ÛÙˆ Ú¯Ø¦ÛŒ!');
            }
        }

        function updateDate() {
            const days = ['Ø§ØªÙˆØ§Ø±', 'Ù¾ÛŒØ±', 'Ù…Ù†Ú¯Ù„', 'Ø¨Ø¯Ú¾', 'Ø¬Ù…Ø¹Ø±Ø§Øª', 'Ø¬Ù…Ø¹Û', 'ÛÙØªÛ'];
            const months = ['Ø¬Ù†ÙˆØ±ÛŒ', 'ÙØ±ÙˆØ±ÛŒ', 'Ù…Ø§Ø±Ú†', 'Ø§Ù¾Ø±ÛŒÙ„', 'Ù…Ø¦ÛŒ', 'Ø¬ÙˆÙ†', 
                           'Ø¬ÙˆÙ„Ø§Ø¦ÛŒ', 'Ø§Ú¯Ø³Øª', 'Ø³ØªÙ…Ø¨Ø±', 'Ø§Ú©ØªÙˆØ¨Ø±', 'Ù†ÙˆÙ…Ø¨Ø±', 'Ø¯Ø³Ù…Ø¨Ø±'];
            const now = new Date();
            const dateStr = `${days[now.getDay()]}ØŒ ${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()}`;
            document.getElementById('currentDate').textContent = dateStr;
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to clicked button
            event.target.classList.add('active');

            // Update customer dropdowns
            if (tabName === 'property' || tabName === 'catering' || tabName === 'services') {
                updateCustomerDropdowns();
            }

            // Update staff dropdown
            if (tabName === 'services') {
                updateStaffDropdown();
            }
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            if (modalId === 'propertyModal' || modalId === 'cateringModal' || modalId === 'serviceModal') {
                updateCustomerDropdowns();
            }
            if (modalId === 'serviceModal') {
                updateStaffDropdown();
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            // Reset form
            document.querySelector(`#${modalId} form`).reset();
            document.getElementById('imagePreview').innerHTML = '';
        }

        function updateCustomerDropdowns() {
            const dropdowns = ['propertyCustomer', 'cateringCustomer', 'serviceCustomer'];
            dropdowns.forEach(dropdownId => {
                const dropdown = document.getElementById(dropdownId);
                if (dropdown) {
                    dropdown.innerHTML = '<option value="">Ú©Ø³Ù¹Ù…Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>';
                    data.customers.forEach((customer, index) => {
                        dropdown.innerHTML += `<option value="${index}">${customer.name} - ${customer.phone}</option>`;
                    });
                }
            });
        }

        function updateStaffDropdown() {
            const dropdown = document.getElementById('assignedStaff');
            if (dropdown) {
                dropdown.innerHTML = '<option value="">Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº</option>';
                data.staff.forEach((staff, index) => {
                    dropdown.innerHTML += `<option value="${index}">${staff.name} - ${staff.position}</option>`;
                });
            }
        }

        function calculateCateringTotal() {
            const guests = parseFloat(document.getElementById('guestCount').value) || 0;
            const rate = parseFloat(document.getElementById('perPlateRate').value) || 0;
            const total = guests * rate;
            document.getElementById('totalAmount').value = total.toFixed(0) + ' Ø±ÙˆÙ¾Û’';
        }

        // Add Customer
        function addCustomer(e) {
            e.preventDefault();
            
            const imageInput = document.getElementById('customerImage');
            let imageData = '';
            
            if (imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageData = e.target.result;
                    saveCustomer(imageData);
                };
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                saveCustomer('');
            }
        }

        function saveCustomer(imageData) {
            const customer = {
                name: document.getElementById('customerName').value,
                phone: document.getElementById('customerPhone').value,
                cnic: document.getElementById('customerCNIC').value,
                address: document.getElementById('customerAddress').value,
                service: document.getElementById('customerService').value,
                details: document.getElementById('customerDetails').value,
                image: imageData,
                date: new Date().toISOString(),
                transactions: []
            };
            
            data.customers.push(customer);
            saveData();
            closeModal('customerModal');
            displayCustomers();
            alert('Ú©Ø³Ù¹Ù…Ø± Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯ÛŒØ§!');
        }

        // Add Property
        function addProperty(e) {
            e.preventDefault();
            
            const price = parseFloat(document.getElementById('propertyPrice').value);
            const commission = price * 0.02;
            const paidAmount = parseFloat(document.getElementById('propertyPaidAmount').value) || 0;
            
            const property = {
                customerId: document.getElementById('propertyCustomer').value,
                type: document.getElementById('propertyType').value,
                category: document.getElementById('propertyCategory').value,
                location: document.getElementById('propertyLocation').value,
                size: document.getElementById('propertySize').value,
                price: price,
                commission: commission,
                paidAmount: paidAmount,
                pendingAmount: commission - paidAmount,
                details: document.getElementById('propertyDetails').value,
                date: new Date().toISOString(),
                status: 'Ø¬Ø§Ø±ÛŒ'
            };
            
            data.properties.push(property);
            
            // Add to customer transactions
            if (property.customerId) {
                data.customers[property.customerId].transactions.push({
                    type: 'Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ',
                    details: `${property.category} - ${property.location}`,
                    amount: property.commission,
                    paidAmount: property.paidAmount,
                    pendingAmount: property.pendingAmount,
                    date: property.date
                });
            }
            
            saveData();
            closeModal('propertyModal');
            displayProperties();
            alert('Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯Ø¦ÛŒ!');
        }

        // Add Catering
        function addCatering(e) {
            e.preventDefault();
            
            const guests = parseFloat(document.getElementById('guestCount').value);
            const rate = parseFloat(document.getElementById('perPlateRate').value);
            const total = guests * rate;
            const advance = parseFloat(document.getElementById('advanceAmount').value) || 0;
            
            const catering = {
                customerId: document.getElementById('cateringCustomer').value,
                functionType: document.getElementById('functionType').value,
                date: document.getElementById('functionDate').value,
                venue: document.getElementById('functionVenue').value,
                guests: guests,
                perPlateRate: rate,
                totalAmount: total,
                advanceAmount: advance,
                paidAmount: advance,
                pendingAmount: total - advance,
                menuDetails: document.getElementById('menuDetails').value,
                status: 'Ø¨Ú©Úˆ',
                createdDate: new Date().toISOString()
            };
            
            data.catering.push(catering);
            
            // Add to customer transactions
            if (catering.customerId) {
                data.customers[catering.customerId].transactions.push({
                    type: 'Ú©ÛŒÙ¹Ø±Ù†Ú¯',
                    details: `${catering.functionType} - ${catering.date}`,
                    amount: catering.totalAmount,
                    paidAmount: catering.paidAmount,
                    pendingAmount: catering.pendingAmount,
                    date: catering.createdDate
                });
            }
            
            saveData();
            closeModal('cateringModal');
            displayCatering();
            alert('Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ø¨Ú©Ù†Ú¯ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ ÛÙˆ Ú¯Ø¦ÛŒ!');
        }

        // Add Service
        function addService(e) {
            e.preventDefault();
            
            const charges = parseFloat(document.getElementById('serviceCharges').value);
            const paidAmount = parseFloat(document.getElementById('servicePaidAmount').value) || 0;
            
            const service = {
                customerId: document.getElementById('serviceCustomer').value,
                type: document.getElementById('serviceType').value,
                description: document.getElementById('serviceDescription').value,
                charges: charges,
                paidAmount: paidAmount,
                pendingAmount: charges - paidAmount,
                status: document.getElementById('serviceStatus').value,
                assignedStaff: document.getElementById('assignedStaff').value,
                date: new Date().toISOString()
            };
            
            data.services.push(service);
            
            // Add to customer transactions
            if (service.customerId) {
                data.customers[service.customerId].transactions.push({
                    type: 'Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³',
                    details: service.type,
                    amount: service.charges,
                    paidAmount: service.paidAmount,
                    pendingAmount: service.pendingAmount,
                    date: service.date
                });
            }
            
            saveData();
            closeModal('serviceModal');
            displayServices();
            alert('Ø³Ø±ÙˆØ³ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯Ø¦ÛŒ!');
        }

        // Add Staff
        function addStaff(e) {
            e.preventDefault();
            
            const staff = {
                name: document.getElementById('staffName').value,
                phone: document.getElementById('staffPhone').value,
                position: document.getElementById('staffPosition').value,
                salary: parseFloat(document.getElementById('staffSalary').value) || 0,
                joinDate: new Date().toISOString()
            };
            
            data.staff.push(staff);
            saveData();
            closeModal('staffModal');
            displayStaff();
            alert('Ù…Ù„Ø§Ø²Ù… Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯ÛŒØ§!');
        }

        // Add Expense
        function addExpense(e) {
            e.preventDefault();
            
            const expense = {
                category: document.getElementById('expenseCategory').value,
                amount: parseFloat(document.getElementById('expenseAmount').value),
                date: document.getElementById('expenseDate').value,
                details: document.getElementById('expenseDetails').value,
                createdDate: new Date().toISOString()
            };
            
            data.expenses.push(expense);
            saveData();
            closeModal('expenseModal');
            displayExpenses();
            alert('Ø®Ø±Ú† Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆ Ú¯ÛŒØ§!');
        }

        // Display Expenses
        function displayExpenses() {
            const container = document.getElementById('expensesList');
            if (data.expenses.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø®Ø±Ú† Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.expenses.map((expense, index) => `
                <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="text-xl font-bold text-gray-800">${expense.category}</h4>
                            <p class="text-gray-600">ğŸ“… ${expense.date}</p>
                            ${expense.details ? `<p class="text-gray-600 mt-1">${expense.details}</p>` : ''}
                            <p class="text-lg font-bold text-red-600 mt-2">${expense.amount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                        </div>
                        <div class="flex flex-col gap-2">
                            <button onclick="editExpense(${index})" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm">
                                âœï¸ ØªØ±Ù…ÛŒÙ…
                            </button>
                            <button onclick="deleteExpense(${index})" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">
                                ğŸ—‘ï¸ Ø­Ø°Ù
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Edit Expense
        function editExpense(index) {
            const expense = data.expenses[index];
            
            document.getElementById('expenseCategory').value = expense.category;
            document.getElementById('expenseAmount').value = expense.amount;
            document.getElementById('expenseDate').value = expense.date;
            document.getElementById('expenseDetails').value = expense.details || '';
            
            const form = document.querySelector('#expenseModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                data.expenses[index] = {
                    ...data.expenses[index],
                    category: document.getElementById('expenseCategory').value,
                    amount: parseFloat(document.getElementById('expenseAmount').value),
                    date: document.getElementById('expenseDate').value,
                    details: document.getElementById('expenseDetails').value
                };
                
                saveData();
                closeModal('expenseModal');
                alert('Ø®Ø±Ú† Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒÚº!');
                
                form.onsubmit = addExpense;
            };
            
            openModal('expenseModal');
        }

        // Delete Expense
        function deleteExpense(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ø®Ø±Ú† Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.expenses.splice(index, 1);
                saveData();
                alert('Ø®Ø±Ú† Ø­Ø°Ù ÛÙˆ Ú¯ÛŒØ§!');
            }
        }

        // Display Functions
        function displayCustomers() {
            const container = document.getElementById('customersList');
            if (data.customers.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ú©Ø³Ù¹Ù…Ø± Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.customers.map((customer, index) => `
                <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                    <div class="flex items-start gap-4">
                        ${customer.image ? `<img src="${customer.image}" class="w-16 h-16 rounded-full object-cover">` : 
                          '<div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl">ğŸ‘¤</div>'}
                        <div class="flex-1">
                            <h4 class="text-xl font-bold text-gray-800">${customer.name}</h4>
                            <p class="text-gray-600">ğŸ“ ${customer.phone}</p>
                            ${customer.cnic ? `<p class="text-gray-600">ğŸ†” ${customer.cnic}</p>` : ''}
                            ${customer.address ? `<p class="text-gray-600">ğŸ“ ${customer.address}</p>` : ''}
                            <p class="text-sm text-blue-600 font-semibold mt-1">${customer.service}</p>
                            ${customer.details ? `<p class="text-gray-500 text-sm mt-2">${customer.details}</p>` : ''}
                            ${customer.transactions.length > 0 ? 
                              `<p class="text-sm text-green-600 mt-2">Ú©Ù„ Ù„ÛŒÙ† Ø¯ÛŒÙ†: ${customer.transactions.length}</p>` : ''}
                        </div>
                        <div class="flex gap-2">
                            <button onclick="viewCustomerDetails(${index})" class="bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600 text-sm">
                                ØªÙØµÛŒÙ„Ø§Øª
                            </button>
                            <button onclick="editCustomer(${index})" class="bg-yellow-500 text-white px-3 py-2 rounded hover:bg-yellow-600 text-sm">
                                âœï¸ ØªØ±Ù…ÛŒÙ…
                            </button>
                            <button onclick="deleteCustomer(${index})" class="bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 text-sm">
                                ğŸ—‘ï¸ Ø­Ø°Ù
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function displayProperties() {
            const container = document.getElementById('propertiesList');
            if (data.properties.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.properties.map((property, index) => {
                const customer = data.customers[property.customerId];
                const pending = property.pendingAmount || 0;
                return `
                    <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="text-xl font-bold text-gray-800">${property.category} - ${property.location}</h4>
                                <p class="text-gray-600">Ú©Ø³Ù¹Ù…Ø±: ${customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…'}</p>
                                <p class="text-gray-600">Ù‚Ø³Ù…: ${property.type}</p>
                                ${property.size ? `<p class="text-gray-600">Ø±Ù‚Ø¨Û: ${property.size}</p>` : ''}
                                <p class="text-lg font-bold text-green-600 mt-2">Ù‚ÛŒÙ…Øª: ${property.price.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                                <p class="text-sm text-blue-600">Ú©Ù…ÛŒØ´Ù† (2%): ${property.commission.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                                ${property.paidAmount ? `<p class="text-sm text-green-600">ÙˆØµÙˆÙ„ Ø´Ø¯Û: ${property.paidAmount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : ''}
                                ${pending > 0 ? `<p class="text-sm text-red-600 font-bold">Ø¨Ù‚Ø§ÛŒØ§: ${pending.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : ''}
                                ${property.details ? `<p class="text-gray-500 text-sm mt-2">${property.details}</p>` : ''}
                            </div>
                            <div class="flex flex-col gap-2">
                                <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm text-center">${property.status}</span>
                                <button onclick="editProperty(${index})" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm">
                                    âœï¸ ØªØ±Ù…ÛŒÙ…
                                </button>
                                <button onclick="deleteProperty(${index})" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function displayCatering() {
            const container = document.getElementById('cateringList');
            if (data.catering.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø¨Ú©Ù†Ú¯ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.catering.map((booking, index) => {
                const customer = data.customers[booking.customerId];
                const pending = booking.pendingAmount || 0;
                return `
                    <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="text-xl font-bold text-gray-800">${booking.functionType}</h4>
                                <p class="text-gray-600">Ú©Ø³Ù¹Ù…Ø±: ${customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…'}</p>
                                <p class="text-gray-600">ğŸ“… ${booking.date}</p>
                                <p class="text-gray-600">ğŸ“ ${booking.venue}</p>
                                <p class="text-gray-600">Ù…ÛÙ…Ø§Ù†: ${booking.guests}</p>
                                <p class="text-lg font-bold text-green-600 mt-2">Ú©Ù„ Ø±Ù‚Ù…: ${booking.totalAmount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                                ${booking.paidAmount > 0 ? 
                                  `<p class="text-sm text-blue-600">Ø§ÛŒÚˆÙˆØ§Ù†Ø³: ${booking.paidAmount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : ''}
                                ${pending > 0 ? 
                                  `<p class="text-sm text-red-600 font-bold">Ø¨Ø§Ù‚ÛŒ: ${pending.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : 
                                  '<p class="text-sm text-green-600 font-bold">âœ“ Ù…Ú©Ù…Ù„ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ</p>'}
                                ${booking.menuDetails ? `<p class="text-gray-500 text-sm mt-2">${booking.menuDetails}</p>` : ''}
                            </div>
                            <div class="flex flex-col gap-2">
                                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm text-center">${booking.status}</span>
                                <button onclick="editCatering(${index})" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm">
                                    âœï¸ ØªØ±Ù…ÛŒÙ…
                                </button>
                                <button onclick="deleteCatering(${index})" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                                <button onclick="completeCatering(${index})" class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 text-sm">
                                    âœ… Ù…Ú©Ù…Ù„
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function displayServices() {
            const container = document.getElementById('servicesList');
            if (data.services.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø³Ø±ÙˆØ³ Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.services.map((service, index) => {
                const customer = data.customers[service.customerId];
                const staff = service.assignedStaff ? data.staff[service.assignedStaff] : null;
                const pending = service.pendingAmount || 0;
                const statusColors = {
                    'Ø²ÛŒØ± Ø§Ù„ØªÙˆØ§Ø¡': 'bg-yellow-100 text-yellow-800',
                    'Ø¬Ø§Ø±ÛŒ': 'bg-blue-100 text-blue-800',
                    'Ù…Ú©Ù…Ù„': 'bg-green-100 text-green-800'
                };
                return `
                    <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="text-xl font-bold text-gray-800">${service.type}</h4>
                                <p class="text-gray-600">Ú©Ø³Ù¹Ù…Ø±: ${customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…'}</p>
                                <p class="text-gray-600">${service.description}</p>
                                <p class="text-lg font-bold text-green-600 mt-2">Ú†Ø§Ø±Ø¬Ø²: ${service.charges.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                                ${service.paidAmount > 0 ? `<p class="text-sm text-blue-600">ÙˆØµÙˆÙ„ Ø´Ø¯Û: ${service.paidAmount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : ''}
                                ${pending > 0 ? `<p class="text-sm text-red-600 font-bold">Ø¨Ù‚Ø§ÛŒØ§: ${pending.toLocaleString()} Ø±ÙˆÙ¾Û’</p>` : ''}
                                ${staff ? `<p class="text-sm text-blue-600 mt-1">Ù…Ù„Ø§Ø²Ù…: ${staff.name}</p>` : ''}
                            </div>
                            <div class="flex flex-col gap-2">
                                <span class="px-3 py-1 rounded-full text-sm text-center ${statusColors[service.status]}">${service.status}</span>
                                <button onclick="editService(${index})" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm">
                                    âœï¸ ØªØ±Ù…ÛŒÙ…
                                </button>
                                <button onclick="deleteService(${index})" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                                ${service.status !== 'Ù…Ú©Ù…Ù„' ? 
                                  `<button onclick="completeService(${index})" class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 text-sm">
                                      âœ… Ù…Ú©Ù…Ù„
                                  </button>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function displayStaff() {
            const container = document.getElementById('staffList');
            if (data.staff.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8 col-span-3">Ù…Ù„Ø§Ø²Ù…ÛŒÙ† Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = data.staff.map((staff, index) => `
                <div class="bg-white border rounded-lg p-6 hover:shadow-md transition">
                    <div class="text-center">
                        <div class="w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-4xl mx-auto mb-3">ğŸ‘¤</div>
                        <h4 class="text-xl font-bold text-gray-800">${staff.name}</h4>
                        <p class="text-blue-600 font-semibold">${staff.position}</p>
                        <p class="text-gray-600 mt-2">ğŸ“ ${staff.phone}</p>
                        ${staff.salary > 0 ? `<p class="text-green-600 font-bold mt-2">${staff.salary.toLocaleString()} Ø±ÙˆÙ¾Û’/Ù…Ø§Û</p>` : ''}
                        <div class="mt-4 flex gap-2 justify-center">
                            <button onclick="editStaff(${index})" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 text-sm">
                                âœï¸ ØªØ±Ù…ÛŒÙ…
                            </button>
                            <button onclick="deleteStaff(${index})" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">
                                ğŸ—‘ï¸ Ø­Ø°Ù
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateDashboard() {
            // Update stats
            document.getElementById('totalCustomers').textContent = data.customers.length;
            
            // Calculate monthly income and expenses
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            
            let monthlyIncome = 0;
            let monthlyExpenses = 0;
            let totalPending = 0;
            
            // Property income
            let propertyIncome = 0;
            data.properties.forEach(property => {
                const date = new Date(property.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    propertyIncome += property.commission;
                    monthlyIncome += property.commission;
                }
                if (property.pendingAmount) {
                    totalPending += property.pendingAmount;
                }
            });
            
            // Catering income
            let cateringIncome = 0;
            data.catering.forEach(booking => {
                const date = new Date(booking.createdDate);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    cateringIncome += booking.totalAmount;
                    monthlyIncome += booking.totalAmount;
                }
                if (booking.pendingAmount) {
                    totalPending += booking.pendingAmount;
                }
            });
            
            // Services income
            let servicesIncome = 0;
            data.services.forEach(service => {
                const date = new Date(service.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    servicesIncome += service.charges;
                    monthlyIncome += service.charges;
                }
                if (service.pendingAmount) {
                    totalPending += service.pendingAmount;
                }
            });
            
            // Calculate expenses
            data.expenses.forEach(expense => {
                const date = new Date(expense.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    monthlyExpenses += expense.amount;
                }
            });
            
            // Calculate profit
            const monthlyProfit = monthlyIncome - monthlyExpenses;
            
            // Update dashboard stats
            document.getElementById('monthlyIncome').textContent = monthlyIncome.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('monthlyExpenses').textContent = monthlyExpenses.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('monthlyProfit').textContent = monthlyProfit.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('totalPending').textContent = totalPending.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            
            // Update reports
            document.getElementById('propertyIncome').textContent = propertyIncome.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('cateringIncome').textContent = cateringIncome.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('servicesIncome').textContent = servicesIncome.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('totalExpensesReport').textContent = monthlyExpenses.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('totalIncomeReport').textContent = monthlyIncome.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            document.getElementById('netProfitReport').textContent = monthlyProfit.toLocaleString() + ' Ø±ÙˆÙ¾Û’';
            
            // Display pending amounts list
            displayPendingAmounts();
            
            // Display all data
            displayCustomers();
            displayProperties();
            displayCatering();
            displayServices();
            displayStaff();
            displayExpenses();
            displayCustomServiceTypes();
            displayRecentActivities();
            displayRecentPendingPayments();
        }

        function displayPendingAmounts() {
            const container = document.getElementById('pendingAmountsList');
            const pendingItems = [];
            
            // Property pending
            data.properties.forEach((property, index) => {
                if (property.pendingAmount && property.pendingAmount > 0) {
                    const customer = data.customers[property.customerId];
                    pendingItems.push({
                        type: 'Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ',
                        details: `${property.category} - ${property.location}`,
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: property.pendingAmount
                    });
                }
            });
            
            // Catering pending
            data.catering.forEach((booking, index) => {
                if (booking.pendingAmount && booking.pendingAmount > 0) {
                    const customer = data.customers[booking.customerId];
                    pendingItems.push({
                        type: 'Ú©ÛŒÙ¹Ø±Ù†Ú¯',
                        details: `${booking.functionType} - ${booking.date}`,
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: booking.pendingAmount
                    });
                }
            });
            
            // Services pending
            data.services.forEach((service, index) => {
                if (service.pendingAmount && service.pendingAmount > 0) {
                    const customer = data.customers[service.customerId];
                    pendingItems.push({
                        type: 'Ø³Ø±ÙˆØ³',
                        details: service.type,
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: service.pendingAmount
                    });
                }
            });
            
            if (pendingItems.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">Ú©ÙˆØ¦ÛŒ Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù… Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = pendingItems.map(item => `
                <div class="bg-white border-l-4 border-orange-500 p-3 rounded">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-gray-800">${item.customer}</p>
                            <p class="text-sm text-gray-600">${item.type}: ${item.details}</p>
                        </div>
                        <p class="font-bold text-orange-600">${item.amount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                    </div>
                </div>
            `).join('');
        }

        function displayRecentActivities() {
            const container = document.getElementById('recentActivities');
            const allActivities = [
                ...data.properties.map(p => ({ type: 'Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ', date: p.date, text: `${p.category} ${p.type}` })),
                ...data.catering.map(c => ({ type: 'Ú©ÛŒÙ¹Ø±Ù†Ú¯', date: c.createdDate, text: c.functionType })),
                ...data.services.map(s => ({ type: 'Ø³Ø±ÙˆØ³', date: s.date, text: s.type }))
            ].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
            
            if (allActivities.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">Ø§Ø¨Ú¾ÛŒ ØªÚ© Ú©ÙˆØ¦ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = allActivities.map(activity => `
                <div class="flex items-center gap-3 p-2 hover:bg-gray-50 rounded">
                    <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                    <div class="flex-1">
                        <p class="font-semibold">${activity.text}</p>
                        <p class="text-xs text-gray-500">${activity.type}</p>
                    </div>
                </div>
            `).join('');
        }

        function displayRecentPendingPayments() {
            const container = document.getElementById('pendingTasksList');
            const pendingItems = [];
            
            // Property pending
            data.properties.forEach((property) => {
                if (property.pendingAmount && property.pendingAmount > 0) {
                    const customer = data.customers[property.customerId];
                    pendingItems.push({
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: property.pendingAmount
                    });
                }
            });
            
            // Catering pending
            data.catering.forEach((booking) => {
                if (booking.pendingAmount && booking.pendingAmount > 0) {
                    const customer = data.customers[booking.customerId];
                    pendingItems.push({
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: booking.pendingAmount
                    });
                }
            });
            
            // Services pending
            data.services.forEach((service) => {
                if (service.pendingAmount && service.pendingAmount > 0) {
                    const customer = data.customers[service.customerId];
                    pendingItems.push({
                        customer: customer ? customer.name : 'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…',
                        amount: service.pendingAmount
                    });
                }
            });
            
            if (pendingItems.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">Ú©ÙˆØ¦ÛŒ Ø¨Ù‚Ø§ÛŒØ§ Ø±Ù‚Ù… Ù†ÛÛŒÚº</p>';
                return;
            }
            
            container.innerHTML = pendingItems.slice(0, 5).map(item => `
                <div class="flex items-center gap-3 p-2 hover:bg-gray-50 rounded">
                    <div class="w-2 h-2 rounded-full bg-orange-500"></div>
                    <div class="flex-1">
                        <p class="font-semibold">${item.customer}</p>
                        <p class="text-xs text-orange-600">${item.amount.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
                    </div>
                </div>
            `).join('');
        }

        function searchCustomers() {
            const query = document.getElementById('customerSearch').value.toLowerCase();
            const filtered = data.customers.filter(customer => 
                customer.name.toLowerCase().includes(query) || 
                customer.phone.includes(query)
            );
            
            const container = document.getElementById('customersList');
            if (filtered.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">Ú©ÙˆØ¦ÛŒ Ú©Ø³Ù¹Ù…Ø± Ù†ÛÛŒÚº Ù…Ù„Ø§</p>';
                return;
            }
            
            container.innerHTML = filtered.map((customer, index) => {
                const realIndex = data.customers.indexOf(customer);
                return `
                    <div class="bg-white border rounded-lg p-4 hover:shadow-md transition">
                        <div class="flex items-start gap-4">
                            ${customer.image ? `<img src="${customer.image}" class="w-16 h-16 rounded-full object-cover">` : 
                              '<div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl">ğŸ‘¤</div>'}
                            <div class="flex-1">
                                <h4 class="text-xl font-bold text-gray-800">${customer.name}</h4>
                                <p class="text-gray-600">ğŸ“ ${customer.phone}</p>
                                ${customer.cnic ? `<p class="text-gray-600">ğŸ†” ${customer.cnic}</p>` : ''}
                                <p class="text-sm text-blue-600 font-semibold mt-1">${customer.service}</p>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="viewCustomerDetails(${realIndex})" class="bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600 text-sm">
                                    ØªÙØµÛŒÙ„Ø§Øª
                                </button>
                                <button onclick="editCustomer(${realIndex})" class="bg-yellow-500 text-white px-3 py-2 rounded hover:bg-yellow-600 text-sm">
                                    âœï¸
                                </button>
                                <button onclick="deleteCustomer(${realIndex})" class="bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 text-sm">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function viewCustomerDetails(index) {
            const customer = data.customers[index];
            alert(`Ú©Ø³Ù¹Ù…Ø± Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª:\n\nÙ†Ø§Ù…: ${customer.name}\nÙ†Ù…Ø¨Ø±: ${customer.phone}\nØ³Ø±ÙˆØ³: ${customer.service}\nÚ©Ù„ Ù„ÛŒÙ† Ø¯ÛŒÙ†: ${customer.transactions.length}`);
        }

        // Edit Customer
        function editCustomer(index) {
            const customer = data.customers[index];
            
            // Fill form with existing data
            document.getElementById('customerName').value = customer.name;
            document.getElementById('customerPhone').value = customer.phone;
            document.getElementById('customerCNIC').value = customer.cnic || '';
            document.getElementById('customerAddress').value = customer.address || '';
            document.getElementById('customerService').value = customer.service;
            document.getElementById('customerDetails').value = customer.details || '';
            
            if (customer.image) {
                document.getElementById('imagePreview').innerHTML = 
                    `<img src="${customer.image}" class="image-preview">`;
            }
            
            // Change form to edit mode
            const form = document.querySelector('#customerModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                const imageInput = document.getElementById('customerImage');
                
                if (imageInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        updateCustomer(index, e.target.result);
                    };
                    reader.readAsDataURL(imageInput.files[0]);
                } else {
                    updateCustomer(index, customer.image);
                }
            };
            
            openModal('customerModal');
        }

        function updateCustomer(index, imageData) {
            data.customers[index] = {
                ...data.customers[index],
                name: document.getElementById('customerName').value,
                phone: document.getElementById('customerPhone').value,
                cnic: document.getElementById('customerCNIC').value,
                address: document.getElementById('customerAddress').value,
                service: document.getElementById('customerService').value,
                details: document.getElementById('customerDetails').value,
                image: imageData
            };
            
            saveData();
            closeModal('customerModal');
            alert('Ú©Ø³Ù¹Ù…Ø± Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒÚº!');
            
            // Reset form to add mode
            const form = document.querySelector('#customerModal form');
            form.onsubmit = addCustomer;
        }

        // Delete Customer
        function deleteCustomer(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ú©Ø³Ù¹Ù…Ø± Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.customers.splice(index, 1);
                saveData();
                alert('Ú©Ø³Ù¹Ù…Ø± Ø­Ø°Ù ÛÙˆ Ú¯ÛŒØ§!');
            }
        }

        // Edit Property
        function editProperty(index) {
            const property = data.properties[index];
            
            updateCustomerDropdowns();
            document.getElementById('propertyCustomer').value = property.customerId;
            document.getElementById('propertyType').value = property.type;
            document.getElementById('propertyCategory').value = property.category;
            document.getElementById('propertyLocation').value = property.location;
            document.getElementById('propertySize').value = property.size || '';
            document.getElementById('propertyPrice').value = property.price;
            document.getElementById('propertyPaidAmount').value = property.paidAmount || 0;
            document.getElementById('propertyDetails').value = property.details || '';
            document.getElementById('propertyCommission').value = property.commission + ' Ø±ÙˆÙ¾Û’';
            
            const form = document.querySelector('#propertyModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                const price = parseFloat(document.getElementById('propertyPrice').value);
                const commission = price * 0.02;
                const paidAmount = parseFloat(document.getElementById('propertyPaidAmount').value) || 0;
                
                data.properties[index] = {
                    ...data.properties[index],
                    customerId: document.getElementById('propertyCustomer').value,
                    type: document.getElementById('propertyType').value,
                    category: document.getElementById('propertyCategory').value,
                    location: document.getElementById('propertyLocation').value,
                    size: document.getElementById('propertySize').value,
                    price: price,
                    commission: commission,
                    paidAmount: paidAmount,
                    pendingAmount: commission - paidAmount,
                    details: document.getElementById('propertyDetails').value
                };
                
                saveData();
                closeModal('propertyModal');
                alert('Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒÚº!');
                
                form.onsubmit = addProperty;
            };
            
            openModal('propertyModal');
        }

        // Delete Property
        function deleteProperty(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.properties.splice(index, 1);
                saveData();
                alert('Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ø­Ø°Ù ÛÙˆ Ú¯Ø¦ÛŒ!');
            }
        }

        // Edit Catering
        function editCatering(index) {
            const booking = data.catering[index];
            
            updateCustomerDropdowns();
            document.getElementById('cateringCustomer').value = booking.customerId;
            document.getElementById('functionType').value = booking.functionType;
            document.getElementById('functionDate').value = booking.date;
            document.getElementById('functionVenue').value = booking.venue;
            document.getElementById('guestCount').value = booking.guests;
            document.getElementById('perPlateRate').value = booking.perPlateRate;
            document.getElementById('advanceAmount').value = booking.advanceAmount;
            document.getElementById('menuDetails').value = booking.menuDetails || '';
            document.getElementById('totalAmount').value = booking.totalAmount + ' Ø±ÙˆÙ¾Û’';
            
            const form = document.querySelector('#cateringModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                const guests = parseFloat(document.getElementById('guestCount').value);
                const rate = parseFloat(document.getElementById('perPlateRate').value);
                const total = guests * rate;
                
                data.catering[index] = {
                    ...data.catering[index],
                    customerId: document.getElementById('cateringCustomer').value,
                    functionType: document.getElementById('functionType').value,
                    date: document.getElementById('functionDate').value,
                    venue: document.getElementById('functionVenue').value,
                    guests: guests,
                    perPlateRate: rate,
                    totalAmount: total,
                    advanceAmount: parseFloat(document.getElementById('advanceAmount').value) || 0,
                    menuDetails: document.getElementById('menuDetails').value
                };
                
                saveData();
                closeModal('cateringModal');
                alert('Ú©ÛŒÙ¹Ø±Ù†Ú¯ Ø¨Ú©Ù†Ú¯ Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒ!');
                
                form.onsubmit = addCatering;
            };
            
            openModal('cateringModal');
        }

        // Delete Catering
        function deleteCatering(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ø¨Ú©Ù†Ú¯ Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.catering.splice(index, 1);
                saveData();
                alert('Ø¨Ú©Ù†Ú¯ Ø­Ø°Ù ÛÙˆ Ú¯Ø¦ÛŒ!');
            }
        }

        // Complete Catering
        function completeCatering(index) {
            if (confirm('Ú©ÛŒØ§ ÛŒÛ ÙÙ†Ú©Ø´Ù† Ù…Ú©Ù…Ù„ ÛÙˆ Ú¯ÛŒØ§ØŸ')) {
                data.catering[index].status = 'Ù…Ú©Ù…Ù„';
                saveData();
                alert('ÙÙ†Ú©Ø´Ù† Ù…Ú©Ù…Ù„ ÛÙˆ Ú¯ÛŒØ§!');
            }
        }

        // Edit Service
        function editService(index) {
            const service = data.services[index];
            
            updateCustomerDropdowns();
            updateStaffDropdown();
            
            document.getElementById('serviceCustomer').value = service.customerId;
            document.getElementById('serviceType').value = service.type;
            document.getElementById('serviceDescription').value = service.description;
            document.getElementById('serviceCharges').value = service.charges;
            document.getElementById('servicePaidAmount').value = service.paidAmount || 0;
            document.getElementById('serviceStatus').value = service.status;
            document.getElementById('assignedStaff').value = service.assignedStaff || '';
            
            const form = document.querySelector('#serviceModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                const charges = parseFloat(document.getElementById('serviceCharges').value);
                const paidAmount = parseFloat(document.getElementById('servicePaidAmount').value) || 0;
                
                data.services[index] = {
                    ...data.services[index],
                    customerId: document.getElementById('serviceCustomer').value,
                    type: document.getElementById('serviceType').value,
                    description: document.getElementById('serviceDescription').value,
                    charges: charges,
                    paidAmount: paidAmount,
                    pendingAmount: charges - paidAmount,
                    status: document.getElementById('serviceStatus').value,
                    assignedStaff: document.getElementById('assignedStaff').value
                };
                
                saveData();
                closeModal('serviceModal');
                alert('Ø³Ø±ÙˆØ³ Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒÚº!');
                
                form.onsubmit = addService;
            };
            
            openModal('serviceModal');
        }

        // Delete Service
        function deleteService(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ø³Ø±ÙˆØ³ Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.services.splice(index, 1);
                saveData();
                alert('Ø³Ø±ÙˆØ³ Ø­Ø°Ù ÛÙˆ Ú¯Ø¦ÛŒ!');
            }
        }

        // Complete Service
        function completeService(index) {
            if (confirm('Ú©ÛŒØ§ ÛŒÛ Ø³Ø±ÙˆØ³ Ù…Ú©Ù…Ù„ ÛÙˆ Ú¯Ø¦ÛŒØŸ')) {
                data.services[index].status = 'Ù…Ú©Ù…Ù„';
                saveData();
                alert('Ø³Ø±ÙˆØ³ Ù…Ú©Ù…Ù„ ÛÙˆ Ú¯Ø¦ÛŒ!');
            }
        }

        // Edit Staff
        function editStaff(index) {
            const staff = data.staff[index];
            
            document.getElementById('staffName').value = staff.name;
            document.getElementById('staffPhone').value = staff.phone;
            document.getElementById('staffPosition').value = staff.position;
            document.getElementById('staffSalary').value = staff.salary;
            
            const form = document.querySelector('#staffModal form');
            form.onsubmit = function(e) {
                e.preventDefault();
                
                data.staff[index] = {
                    ...data.staff[index],
                    name: document.getElementById('staffName').value,
                    phone: document.getElementById('staffPhone').value,
                    position: document.getElementById('staffPosition').value,
                    salary: parseFloat(document.getElementById('staffSalary').value) || 0
                };
                
                saveData();
                closeModal('staffModal');
                alert('Ù…Ù„Ø§Ø²Ù… Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø§Ù¾ ÚˆÛŒÙ¹ ÛÙˆ Ú¯Ø¦ÛŒÚº!');
                
                form.onsubmit = addStaff;
            };
            
            openModal('staffModal');
        }

        // Delete Staff
        function deleteStaff(index) {
            if (confirm('Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ Ù…Ù„Ø§Ø²Ù… Ú©Ùˆ Ø­Ø°Ù Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                data.staff.splice(index, 1);
                saveData();
                alert('Ù…Ù„Ø§Ø²Ù… Ø­Ø°Ù ÛÙˆ Ú¯ÛŒØ§!');
            }
        }

        // Backup Data
        function backupData() {
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            
            const now = new Date();
            const dateStr = `${now.getFullYear()}-${(now.getMonth()+1).toString().padStart(2,'0')}-${now.getDate().toString().padStart(2,'0')}`;
            link.download = `tahiri-solutions-backup-${dateStr}.json`;
            
            link.click();
            URL.revokeObjectURL(url);
            
            // Update last backup date
            data.lastBackup = new Date().toISOString();
            saveData();
            
            alert('âœ… Ø¨ÛŒÚ© Ø§Ù¾ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ ÛÙˆ Ú¯ÛŒØ§!');
        }

        // Restore Data
        function restoreData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const restoredData = JSON.parse(e.target.result);
                        
                        if (confirm('âš ï¸ ØªÙ…Ø§Ù… Ù…ÙˆØ¬ÙˆØ¯Û ÚˆÛŒÙ¹Ø§ replace ÛÙˆ Ø¬Ø§Ø¦Û’ Ú¯Ø§Û” Ú©ÛŒØ§ Ø¢Ù¾ Ø¬Ø§Ø±ÛŒ Ø±Ú©Ú¾Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ')) {
                            data = restoredData;
                            saveData();
                            updateDashboard();
                            alert('âœ… ÚˆÛŒÙ¹Ø§ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ restore ÛÙˆ Ú¯ÛŒØ§!');
                            location.reload();
                        }
                    } catch (error) {
                        alert('âŒ ØºÙ„Ø· ÙØ§Ø¦Ù„! ØµØ­ÛŒØ­ backup ÙØ§Ø¦Ù„ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”');
                    }
                };
                reader.readAsText(file);
            };
            
            input.click();
        }

        // Export to Excel
        function exportToExcel() {
            let csvContent = '';
            
            // Header
            csvContent += '=== Ø·Ø§ÛØ±ÛŒ Ø³Ù„ÙˆØ´Ù†Ø² - Ù…Ú©Ù…Ù„ Ø±Ù¾ÙˆØ±Ù¹ ===\n';
            csvContent += `ØªØ§Ø±ÛŒØ®: ${new Date().toLocaleDateString('ur-PK')}\n\n`;
            
            // Customers
            csvContent += '--- Ú©Ø³Ù¹Ù…Ø±Ø² ---\n';
            csvContent += 'Ù†Ø§Ù…,Ù…ÙˆØ¨Ø§Ø¦Ù„ Ù†Ù…Ø¨Ø±,CNIC,Ù¾ØªÛ,Ø³Ø±ÙˆØ³\n';
            data.customers.forEach(c => {
                csvContent += `${c.name},${c.phone},${c.cnic || ''},${c.address || ''},${c.service}\n`;
            });
            csvContent += '\n';
            
            // Properties
            csvContent += '--- Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ ---\n';
            csvContent += 'Ù‚Ø³Ù…,Ù…Ù‚Ø§Ù…,Ù‚ÛŒÙ…Øª,Ú©Ù…ÛŒØ´Ù†,ÙˆØµÙˆÙ„ Ø´Ø¯Û,Ø¨Ù‚Ø§ÛŒØ§\n';
            data.properties.forEach(p => {
                csvContent += `${p.category},${p.location},${p.price},${p.commission},${p.paidAmount || 0},${p.pendingAmount || 0}\n`;
            });
            csvContent += '\n';
            
            // Catering
            csvContent += '--- Ú©ÛŒÙ¹Ø±Ù†Ú¯ ---\n';
            csvContent += 'ÙÙ†Ú©Ø´Ù†,ØªØ§Ø±ÛŒØ®,Ù…Ù‚Ø§Ù…,Ù…ÛÙ…Ø§Ù†,Ú©Ù„ Ø±Ù‚Ù…,Ø§ÛŒÚˆÙˆØ§Ù†Ø³,Ø¨Ù‚Ø§ÛŒØ§\n';
            data.catering.forEach(c => {
                csvContent += `${c.functionType},${c.date},${c.venue},${c.guests},${c.totalAmount},${c.paidAmount || 0},${c.pendingAmount || 0}\n`;
            });
            csvContent += '\n';
            
            // Services
            csvContent += '--- Ù¾Ø¨Ù„Ú© Ø³Ø±ÙˆØ³Ø² ---\n';
            csvContent += 'Ù‚Ø³Ù…,ØªÙØµÛŒÙ„,Ú†Ø§Ø±Ø¬Ø²,ÙˆØµÙˆÙ„ Ø´Ø¯Û,Ø¨Ù‚Ø§ÛŒØ§,Ø­Ø§Ù„Øª\n';
            data.services.forEach(s => {
                csvContent += `${s.type},${s.description},${s.charges},${s.paidAmount || 0},${s.pendingAmount || 0},${s.status}\n`;
            });
            csvContent += '\n';
            
            // Expenses
            csvContent += '--- Ø§Ø®Ø±Ø§Ø¬Ø§Øª ---\n';
            csvContent += 'Ù‚Ø³Ù…,Ø±Ù‚Ù…,ØªØ§Ø±ÛŒØ®,ØªÙØµÛŒÙ„\n';
            data.expenses.forEach(e => {
                csvContent += `${e.category},${e.amount},${e.date},${e.details || ''}\n`;
            });
            
            // Create download
            const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            
            const now = new Date();
            const dateStr = `${now.getFullYear()}-${(now.getMonth()+1).toString().padStart(2,'0')}-${now.getDate().toString().padStart(2,'0')}`;
            link.download = `tahiri-solutions-report-${dateStr}.csv`;
            
            link.click();
            URL.revokeObjectURL(url);
            
            alert('âœ… Excel Ø±Ù¾ÙˆØ±Ù¹ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ ÛÙˆ Ú¯Ø¦ÛŒ!');
        }

        // Export to PDF
        function exportToPDF() {
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            
            // Calculate totals
            let totalIncome = 0;
            let totalExpenses = 0;
            let totalPending = 0;
            
            data.properties.forEach(p => {
                const date = new Date(p.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    totalIncome += p.commission;
                }
                totalPending += p.pendingAmount || 0;
            });
            
            data.catering.forEach(c => {
                const date = new Date(c.createdDate);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    totalIncome += c.totalAmount;
                }
                totalPending += c.pendingAmount || 0;
            });
            
            data.services.forEach(s => {
                const date = new Date(s.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    totalIncome += s.charges;
                }
                totalPending += s.pendingAmount || 0;
            });
            
            data.expenses.forEach(e => {
                const date = new Date(e.date);
                if (date.getMonth() === currentMonth && date.getFullYear() === currentYear) {
                    totalExpenses += e.amount;
                }
            });
            
            const profit = totalIncome - totalExpenses;
            
            // Create PDF content
            let pdfContent = `
<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; direction: rtl; padding: 20px; }
        h1 { text-align: center; color: #6366f1; }
        h2 { color: #4f46e5; border-bottom: 2px solid #6366f1; padding-bottom: 5px; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }
        th { background-color: #6366f1; color: white; }
        .summary { background-color: #f0f9ff; padding: 15px; border-radius: 8px; margin: 20px 0; }
        .profit { color: #16a34a; font-weight: bold; font-size: 24px; }
        .expense { color: #dc2626; }
    </style>
</head>
<body>
    <h1>Ø·Ø§ÛØ±ÛŒ Ø³Ù„ÙˆØ´Ù†Ø² - Ù…Ø§Ù„ÛŒ Ø±Ù¾ÙˆØ±Ù¹</h1>
    <p style="text-align:center">ØªØ§Ø±ÛŒØ®: ${now.toLocaleDateString('ur-PK')}</p>
    
    <div class="summary">
        <h2>Ø®Ù„Ø§ØµÛ</h2>
        <p><strong>Ú©Ù„ Ø¢Ù…Ø¯Ù†:</strong> ${totalIncome.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
        <p class="expense"><strong>Ú©Ù„ Ø§Ø®Ø±Ø§Ø¬Ø§Øª:</strong> ${totalExpenses.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
        <p class="profit"><strong>Ø®Ø§Ù„Øµ Ù…Ù†Ø§ÙØ¹:</strong> ${profit.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
        <p style="color:#f59e0b"><strong>Ú©Ù„ Ø¨Ù‚Ø§ÛŒØ§:</strong> ${totalPending.toLocaleString()} Ø±ÙˆÙ¾Û’</p>
    </div>
    
    <h2>Ú©Ø³Ù¹Ù…Ø±Ø² (${data.customers.length})</h2>
    <table>
        <tr><th>Ù†Ø§Ù…</th><th>Ù…ÙˆØ¨Ø§Ø¦Ù„</th><th>Ø³Ø±ÙˆØ³</th></tr>
        ${data.customers.map(c => `<tr><td>${c.name}</td><td>${c.phone}</td><td>${c.service}</td></tr>`).join('')}
    </table>
    
    <h2>Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ Ú©ÛŒ Ø¢Ù…Ø¯Ù†</h2>
    <table>
        <tr><th>Ù‚Ø³Ù…</th><th>Ù…Ù‚Ø§Ù…</th><th>Ú©Ù…ÛŒØ´Ù†</th><th>Ø¨Ù‚Ø§ÛŒØ§</th></tr>
        ${data.properties.map(p => `<tr><td>${p.category}</td><td>${p.location}</td><td>${p.commission.toLocaleString()}</td><td>${(p.pendingAmount || 0).toLocaleString()}</td></tr>`).join('')}
    </table>
    
    <h2>Ø§Ø®Ø±Ø§Ø¬Ø§Øª</h2>
    <table>
        <tr><th>Ù‚Ø³Ù…</th><th>Ø±Ù‚Ù…</th><th>ØªØ§Ø±ÛŒØ®</th></tr>
        ${data.expenses.map(e => `<tr><td>${e.category}</td><td>${e.amount.toLocaleString()}</td><td>${e.date}</td></tr>`).join('')}
    </table>
</body>
</html>
            `;
            
            // Open in new window for printing
            const printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write(pdfContent);
            printWindow.document.close();
            printWindow.focus();
            
            setTimeout(() => {
                printWindow.print();
            }, 250);
            
            alert('âœ… PDF Ø±Ù¾ÙˆØ±Ù¹ ØªÛŒØ§Ø± ÛÙˆ Ú¯Ø¦ÛŒ! Print/Save as PDF Ú©Ø±ÛŒÚºÛ”');
        }
    </script>
</body>
</html>
